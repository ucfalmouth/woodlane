
define(['jquery'],function($){'use strict';var $navTarget=$('.list-group:not(.m-t-1)');var $navNamePrependTarget=$('.is-section:first()',$navTarget);if($navNamePrependTarget.length>0){var $prependHTML='<a class="not-section list-group-item list-group-item-action" data-key="onthispage"><div class="m-l-0">On this page</div></a>';var $headerHeight=$('header[role="banner"]').height();$($navNamePrependTarget).before($prependHTML);var $onThisPageToggle=$('a[data-key="onthispage"]',$navTarget);$($onThisPageToggle).on('click',function(){$(this).toggleClass('collapsed').siblings('.is-section').toggle();});var $menuItems=$('.is-section',$navTarget);var toggleContent=function(t,h){var $target=t.hash;$('.collapse',$target).addClass('show');$('.collapse-header:is(.collapsed)',$target).removeClass('collapsed');$([document.documentElement,document.body]).animate({scrollTop:$($target).offset().top-h},250);};if($('body').not('.editing')){$($menuItems).on('click',function(){toggleContent(this,$headerHeight);$(this).addClass('is-active').siblings().removeClass('is-active');});if(window.location.hash.length>0&&window.location.hash.match(/section\-[0-9]/)){$menuItems.each(function(){if($(this)[0].href.match(window.location.hash)){$(this).addClass('is-active');toggleContent(window.location,$headerHeight);return false;}});}else if(window.location.href.match(/\/course\//)){$menuItems.first().addClass('is-active');}
var $enableScrollDetection=false;if($enableScrollDetection){$.fn.inViewport=function(){var $elementTop=$(this).offset().top,$elementBottom=$elementTop+$(this).outerHeight(),$viewportTop=$(window).scrollTop(),$viewportBottom=$viewportTop+$(window).height();return $elementBottom>$viewportTop&&$elementTop<$viewportBottom;};var $timer;$(window).on('resize scroll',function(){if($timer){window.clearTimeout($timer);}
$timer=window.setTimeout(function(){$menuItems.each(function(){if($(this.hash).inViewport()){$(this).addClass('is-active').siblings().removeClass('is-active');}});},10);});}}}});